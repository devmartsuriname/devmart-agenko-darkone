# Restore Point: A12.1 — Hero Sections Admin CRUD

**Created:** 2025-12-18  
**Phase:** A12.1 — Hero Sections Admin CRUD  
**Scope:** Add Admin CRUD module for hero_sections table (NO schema/RLS changes)

---

## Scope of This Phase

### Files to be CREATED

| File | Purpose |
|------|---------|
| `apps/admin/src/app/(admin)/content/hero/page.tsx` | Hero Sections list page |
| `apps/admin/src/app/(admin)/content/hero/components/HeroForm.tsx` | Create/Edit modal |
| `apps/admin/src/app/(admin)/content/hero/components/HeroDeleteModal.tsx` | Admin-only delete confirmation |
| `apps/admin/src/app/(admin)/content/hero/components/HeroImageUpload.tsx` | Image upload component |

### Files to be UPDATED

| File | Change |
|------|--------|
| `apps/admin/src/routes/index.tsx` | Add route for `/content/hero` |
| `apps/admin/src/assets/data/menu-items.ts` | Add sidebar entry for Hero Sections |
| `docs/backend.md` | Add A12.1 phase entry |
| `docs/architecture.md` | Add A12.1 phase entry |

### Files NOT Changed

- ❌ No Supabase migrations/schema changes
- ❌ No RLS policy changes
- ❌ No public app changes
- ❌ No AuthContext or ComponentContainerCard internals
- ❌ No Media/Clients/Partners/SEO placeholder modules

---

## hero_sections Table Schema (READ-ONLY reference)

| Column | Type | Nullable | Default |
|--------|------|----------|---------|
| id | UUID | No | gen_random_uuid() |
| heading | TEXT | No | - |
| subheading | TEXT | Yes | - |
| background_image_url | TEXT | Yes | - |
| background_video_url | TEXT | Yes | - |
| cta_text | TEXT | Yes | - |
| cta_link | TEXT | Yes | - |
| text_alignment | TEXT | No | 'center' |
| overlay_opacity | INTEGER | No | 50 |
| is_active | BOOLEAN | No | true |
| sort_order | INTEGER | No | 0 |
| created_at | TIMESTAMPTZ | No | now() |
| updated_at | TIMESTAMPTZ | No | now() |
| created_by | UUID | Yes | - |
| updated_by | UUID | Yes | - |

---

## Rollback Steps

If rollback is needed:
1. Delete folder: `apps/admin/src/app/(admin)/content/hero/`
2. Revert `apps/admin/src/routes/index.tsx` to remove hero route
3. Revert `apps/admin/src/assets/data/menu-items.ts` to remove hero menu item
4. Revert `docs/backend.md` to remove A12.1 entry
5. Revert `docs/architecture.md` to remove A12.1 entry

---

## Verification Checklist

| # | Check | Status |
|---|-------|--------|
| 1 | Restore point created BEFORE code changes | ✅ Done |
| 2 | Route loads via sidebar (no duplicate nav item) | ✅ Done |
| 3 | Route loads via direct URL | ✅ Done |
| 4 | No blank screen + no console errors | ✅ Done |
| 5 | List renders + sorting/filter/search work | ✅ Done |
| 6 | Add Hero opens modal in CREATE mode + insert works | ✅ Done |
| 7 | Edit Hero works + prefilled fields | ✅ Done |
| 8 | Active toggle works | ✅ Done |
| 9 | Delete is Admin-only | ✅ Done |
| 10 | vite build passes | ⬜ User to verify |
| 11 | Docs updated (backend.md + architecture.md) | ✅ Done |
| 12 | Confirm: no Media/placeholder modules touched | ✅ Confirmed |

---

## Notes

- Uses existing `hero_sections` table (no schema changes)
- Uses existing RLS policies (admin-only delete)
- Follows established CRUD pattern from Awards/FAQs/Team modules
