# Restore Point: A12.11 — Public Home FunFacts DB Wiring

**Created:** 2025-12-19  
**Phase:** A12.11  
**Status:** Before Implementation

---

## Scope

Wire public Home FunFacts section to `home_funfacts` Supabase table.

**Allowed:**
- Data wiring via existing hook / transformer logic
- Sorting and fallback logic

**Not Allowed:**
- UI/styling changes
- New UI props
- Visual conditionals
- Animations or count-up logic
- CTA additions
- DB/RLS changes

---

## Files to Modify

| File | Action |
|------|--------|
| `apps/public/src/hooks/useContent.js` | ADD `useHomeFunFacts` hook |
| `apps/public/src/components/Pages/Home.jsx` | ADD transformer + wire FunFact component |
| `docs/backend.md` | UPDATE (add A12.11 entry) |
| `docs/architecture.md` | UPDATE (add A12.11 entry) |

---

## Current State (Before)

### useContent.js hooks (line 79-107):
```javascript
export function useHomeAboutSections() {
  // ... existing hook
}
// No useHomeFunFacts hook exists
```

### Home.jsx FunFact rendering (line 335):
```jsx
<FunFact data={fallbackFunfact} />
```
Currently hardcoded to use `fallbackFunfact` array.

---

## Rollback Steps

If issues occur:
1. Remove `useHomeFunFacts` hook from `useContent.js`
2. Revert Home.jsx to use `fallbackFunfact` directly
3. Remove doc entries for A12.11

---

## Verification Checklist (Skeleton)

| # | Check | Status |
|---|-------|--------|
| 1 | Restore point created before code changes | ⬜ |
| 2 | `npm run dev` in apps/public loads without errors | ⬜ |
| 3 | Homepage FunFacts renders unchanged UI layout | ⬜ |
| 4 | With 0 active records → fallback stats show | ⬜ |
| 5 | With exactly 4 active records → DB stats show | ⬜ |
| 6 | With <4 active records → fallback shows | ⬜ |
| 7 | With >4 active records → only first 4 render | ⬜ |
| 8 | No other homepage sections affected | ⬜ |
| 9 | No admin app changes | ⬜ |
| 10 | No DB/RLS changes | ⬜ |
| 11 | `npm run build` for apps/public passes | ⬜ |
| 12 | Docs updated (backend.md + architecture.md) | ⬜ |
