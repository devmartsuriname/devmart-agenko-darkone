# Phase A12.3 — Section Editing Strategy

**Created:** 2025-12-19  
**Status:** ✅ Documented (Planning Only)  
**Type:** Strategy Document — NO IMPLEMENTATION  

---

## Executive Summary

**Goal:** Document how static frontend sections (Home, About, Contact, etc.) could become editable via Admin in future phases.

**Constraints:**
- This is a **documentation and planning phase only**
- **Zivan 1:1 Lock:** No DOM, class, layout, or spacing changes to public frontend
- **Darkone 1:1 Lock:** No Admin UI refactors
- All future section editing must be purely **data-driven** with **fallback to hardcoded content**

**Outcome:** Strategic options documented for future decision-making. No implementation in this phase.

---

## Admin Structure Note

> **IMPORTANT:** This document does NOT assume that section editing will live under any specific Admin menu (e.g., Content).
>
> **Recommendation:** A dedicated Admin module (e.g., "Frontend / Sections" or "Site / Sections") is preferred for clarity.
>
> **Status:** This is a **future architectural decision** — NOT implemented in this phase.
>
> **Action Required:** No routes, menu items, or UI created yet. Explicit approval required per future phase.

---

## Explicit Exclusions (NOT Part of This Phase)

The following are **explicitly OUT OF SCOPE** for A12.3:

| Item | Status | Reason |
|------|--------|--------|
| Media Library | ❌ Out of Scope | Separate feature, not section editing |
| Generic Section Builder | ❌ Out of Scope | Complex UI, requires dedicated phase |
| CSV Import / Campaigns | ❌ Out of Scope | Marketing feature, unrelated |
| Any Implementation Work | ❌ Out of Scope | This phase is documentation only |
| New Admin Routes | ❌ Out of Scope | No routes created in this phase |
| New Admin Menu Items | ❌ Out of Scope | No menu changes in this phase |
| Schema Migrations | ❌ Out of Scope | No database changes in this phase |
| Frontend Wiring | ❌ Out of Scope | No code changes in this phase |

---

## Section Inventory

### Home Page Sections

| Section | Component | Status | Rationale |
|---------|-----------|--------|-----------|
| Hero | `Hero/index.jsx` | ✅ Already Wired (A12.2) | Uses `hero_sections` table |
| CTA Section | `Cta/index.jsx` | **Proposed** | Fields exist in `site_settings` (cta_heading, cta_button_text, cta_button_link) |
| FunFact / Stats | `FunFact/index.jsx` | **Deferred** | Would require schema change (new table or JSONB field) |
| About Section | `About/AboutTwo.jsx` | **Deferred** | Would require schema change |
| WhyChose Section | `WhyChose/index.jsx` | **Deferred** | Would require schema change |
| Testimonial BG Images | `Testimonial/index.jsx` | **Deferred** | Images hardcoded; testimonial data already wired |

### About Page Sections

| Section | Component | Status | Rationale |
|---------|-----------|--------|-----------|
| About Block 1 | Static content | **Deferred** | Would require schema change |
| About Block 2 | Static content | **Deferred** | Would require schema change |
| How We Work | Static content | **Deferred** | Would require schema change |
| Brand Logos | Static logos | **Out of Scope** | Rarely changes, low priority |

### Contact Page Sections

| Section | Component | Status | Rationale |
|---------|-----------|--------|-----------|
| Contact Info | Address, phone, email | **Deferred** | Could use `site_settings` but not urgent |
| Map Embed | Static map | **Out of Scope** | Rarely changes |

### Shared Components

| Section | Component | Status | Rationale |
|---------|-----------|--------|-----------|
| Navigation Menu | `Header/index.jsx` | **Out of Scope** | Static menu acceptable for MVP |
| Footer Links | `Footer/index.jsx` | **Out of Scope** | Rarely changes, low priority |
| Footer Copyright | `Footer/index.jsx` | ✅ Already in DB | Uses `site_settings.footer_copyright` |

---

## Status Legend

| Status | Meaning |
|--------|---------|
| **Proposed** | Can be implemented with existing schema (no DB changes) |
| **Deferred** | Requires schema changes; postponed to future phase |
| **Out of Scope** | Not planned for section editing; low priority or static acceptable |
| ✅ Already Wired | Already fetching from database |

---

## Strategy Options (Future Reference)

### Option 1: Expand `site_settings` Table

**Approach:** Add new columns to existing `site_settings` table for simple key-value content.

**Pros:**
- No new tables required
- Uses existing CRUD infrastructure (`/system/settings`)
- Simple implementation

**Cons:**
- Table can become bloated with many columns
- Not suitable for complex/repeating content (arrays, nested objects)

**Suitable For:**
- CTA section (fields already exist)
- Contact info (address, phone, email)
- Simple text blocks

### Option 2: Generic `content_blocks` Table (New Schema)

**Approach:** Create a flexible table with `section_key` + `content` (JSONB).

**Proposed Schema (Conceptual Only):**
```sql
-- NOT EXECUTED — Conceptual only
CREATE TABLE content_blocks (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  section_key TEXT UNIQUE NOT NULL,  -- e.g., 'home_funfact', 'about_howwework'
  content JSONB NOT NULL,            -- Flexible content structure
  is_active BOOLEAN DEFAULT true,
  sort_order INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);
```

**Pros:**
- Single table for all static sections
- Flexible content structure per section
- Easy to add new sections without schema migration

**Cons:**
- Requires schema migration (future phase)
- Generic Admin UI more complex to build
- JSONB validation requires application-level schema

**Suitable For:**
- FunFact/Stats sections (array of items)
- About blocks (title + content)
- How We Work sections (process steps)

### Option 3: Per-Section Tables

**Approach:** Create a dedicated table per section type.

**Pros:**
- Strongly typed, explicit schema
- Specific Admin UI per section type

**Cons:**
- Table proliferation
- More maintenance overhead
- Not recommended for MVP

**Recommendation:** Not preferred for this project scope.

---

## Recommended Phased Approach

### Phase 1: CTA Wiring (No Schema Change)
- Wire CTA component to existing `site_settings` fields
- Fields: `cta_heading`, `cta_button_text`, `cta_button_link`
- Admin UI: Expand existing `/system/settings` page
- **Requires:** Explicit approval for implementation

### Phase 2: Schema Decision
- Evaluate `content_blocks` vs. expanded `site_settings`
- Document decision criteria and chosen approach
- **Requires:** Explicit approval before any migration

### Phase 3: Section Editor Implementation
- Build Section Editor for chosen approach
- Implement one section at a time with verification
- **Requires:** Explicit approval per section

---

## UI Constraints (Non-Negotiable)

### Zivan Public Frontend (1:1 Lock)

| Constraint | Enforcement |
|------------|-------------|
| No DOM changes | Existing HTML structure must remain identical |
| No class changes | All CSS classes must remain unchanged |
| No layout changes | Spacing, positioning, grid unchanged |
| No new elements | Cannot add elements not in current markup |
| Fallback required | Must gracefully fall back to current hardcoded values |

### Darkone Admin (1:1 Lock)

| Constraint | Enforcement |
|------------|-------------|
| No UI refactors | Existing pages/components unchanged |
| No redesign | Visual appearance unchanged |
| New features additive | New section editing is additive, not replacing |

---

## Data Mapping Examples (Conceptual Only)

### CTA Section → `site_settings`

```
Frontend Prop    →  Database Field
--------------      ---------------
title            →  cta_heading
btnText          →  cta_button_text
btnUrl           →  cta_button_link
bgUrl            →  NOT IN DB (defer or add field)
```

### FunFact Section → `content_blocks` (if implemented)

```
section_key: 'home_funfact'
content: {
  items: [
    { number: "2350+", label: "Project Done" },
    { number: "1580+", label: "Happy Clients" },
    { number: "250+", label: "Expert Members" },
    { number: "750+", label: "Win Awards" }
  ]
}
```

---

## Approval Requirements

> **IMPORTANT:** Any future Section Editor implementation requires **explicit approval per phase**.

| Future Phase | Approval Required |
|--------------|-------------------|
| CTA Wiring | ✅ Yes — before implementation |
| Schema Changes | ✅ Yes — before migration |
| New Admin Routes | ✅ Yes — before creation |
| Per-Section Implementation | ✅ Yes — before each section |

---

## Open Decisions (For Future Phases)

1. **Admin Location:** Where should section editing live? (Dedicated module vs. integrated into existing)
2. **Schema Approach:** `content_blocks` table vs. expanded `site_settings`?
3. **Section Priority:** Which sections to implement first after CTA?
4. **Image Handling:** How to handle section background images? (Media Library dependency?)

---

## Checklist (Documentation Phase Complete)

| # | Item | Status |
|---|------|--------|
| 1 | All sections inventoried | ✅ Done |
| 2 | All sections marked Proposed/Deferred/Out of Scope | ✅ Done |
| 3 | Exclusions explicitly documented | ✅ Done |
| 4 | Strategy options documented | ✅ Done |
| 5 | UI constraints documented | ✅ Done |
| 6 | Approval requirements documented | ✅ Done |
| 7 | No implementation performed | ✅ Confirmed |
| 8 | No schema changes | ✅ Confirmed |
| 9 | No Admin UI changes | ✅ Confirmed |
| 10 | No frontend wiring | ✅ Confirmed |

---

## What This Document Does NOT Include

- ❌ Any code changes
- ❌ Any schema migrations
- ❌ Any new Admin routes or components
- ❌ Any frontend wiring
- ❌ Any RLS policy changes
- ❌ Media Library design
- ❌ Generic Section Builder design
- ❌ CSV import functionality
